{% extends 'base.html' %}

{% block title %} New Quiz {% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('New_Quiz.static', filename='css/New_Quiz_App.css') }}">
<script defer src="{{ url_for('New_Quiz.static', filename='js/jquery-3.7.1.min.js') }}"></script>
<script defer src="{{ url_for('New_Quiz.static', filename='js/New_Quiz_App.js') }}"></script>
{% endblock %}

{% block main %}
<div class="section">
    <div class="title-div">
        <p class="title-p">{{ quiz_name }}</p>
    </div>
    
    <div class="div-content">
        <div class="side-bar-content">
            <button id="fform" class="fill-form active">
                <img src="{{ url_for('New_Quiz.static', filename='img/Fill-Form.svg') }}" alt="Fill Form">
                <p>Заповнити форму</p>
            </button>
            <button id="letters" class="fill-form">
                <img src="{{ url_for('New_Quiz.static', filename='img/Fill-Form.svg') }}" alt="Fill Form">
                <p>Заповнити літери</p>
            </button>
            <button id="select" class="fill-form">
                <img src="{{ url_for('New_Quiz.static', filename='img/filledbox.svg') }}" alt="Fill Form">
                <p>Великий вибір</p>
            </button>
            <div class="scroll-frame">
                <button id="finish-editing" type="button">
                    Закінчити редагування
                </button>
                {% for question in questions %}
                    <div id="qq{{ question }}" class="question-bar-setter" >№{{ question }} Заповнити форму</div>
                {% endfor %}
            </div>
        </div>

        <div class="new-quiz-content">
            <input type="hidden" id="quiz-name" value="{{ quiz_name }}">
            <div class="view-container">
                <div class="view fill-form-view" data-view="fill-form" style="display: flex;">
                    <div class="fill-form-frame">
                        <div class="ai-container">
                            <img class="ai-icon" src="{{ url_for('New_Quiz.static', filename='img/ai-icon.svg') }}" alt="AI Icon"/>
                            <p class="ia-label">Generate a question</p>
                        </div>
                        <input id="questionInpt" type="text" class="question-input" placeholder="Напишіть запитання">
                        <input type="file" id="imageInput" accept="image/*" onchange="handleImageSelect(event)">
                        <img id="imagePreview" style="max-width: 300px; display: none;">
                        <button onclick="removeImage()">Удалить</button>
                    </div>
                    
                    <div class="fill-form-frame-2">
                        <input id="answerInpt" type="text" class="answer-input" placeholder="Напишіть відповідь">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal-overlay" id="modalOverlay">
    <div class="modal-content">
        <h1>Generating questions and answers on the topic</h1>
        <input class="input-ai-promt" type="text" placeholder="Enter the topic of the question to generate">
        <button class="submit-ai-promt-btn">Submit</button>
    </div>
</div>
{% endblock %}
